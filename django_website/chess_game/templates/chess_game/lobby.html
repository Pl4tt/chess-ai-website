{% extends "base.html" %} {% block content %}
Lobby
<form action="{% url 'chess_game:matchmaking'  %}" method="get">
  {% csrf_token %}
  <button>Play</button>
</form>
{% endblock content %}

{% block scripts %}
<script>
  function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
  }

  function playChess() {
    console.log(getCookie("csrftoken"))
    fetch("{% url 'chess_game:lobby' %}", {
      method: "PUT",
      headers: {
        'Content-Type': 'application/json',
        'X_CSRFTOKEN': getCookie('csrftoken')
      }
    })
      .then(res => console.log(res))
  }
</script>
{% endblock scripts %}